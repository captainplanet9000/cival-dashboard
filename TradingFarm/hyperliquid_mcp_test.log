2025-03-14 13:07:18,848 - hyperliquid_mcp_test - INFO - Starting Hyperliquid MCP test...
2025-03-14 13:07:18,849 - hyperliquid_mcp_test - INFO - Getting ETH price...
2025-03-14 13:07:18,850 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_ticker",
  "parameters": {
    "coin": "ETH"
  }
}
2025-03-14 13:07:22,935 - hyperliquid_mcp_test - ERROR - Error executing MCP command: HTTPConnectionPool(host='localhost', port=3001): Max retries exceeded with url: /execute (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000018A0401FCB0>: Failed to establish a new connection: [WinError 10061] No connection could be made because the target machine actively refused it'))
2025-03-14 13:07:22,943 - hyperliquid_mcp_test - ERROR - Error during test: cannot access local variable 'response' where it is not associated with a value
2025-03-14 13:07:22,944 - hyperliquid_mcp_test - INFO - Test failed
2025-03-14 23:49:10,984 - hyperliquid_mcp_test - INFO - Starting Hyperliquid MCP test...
2025-03-14 23:49:10,985 - hyperliquid_mcp_test - INFO - Getting ETH price...
2025-03-14 23:49:10,985 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_ticker",
  "parameters": {
    "coin": "ETH"
  }
}
2025-03-14 23:49:13,030 - hyperliquid_mcp_test - ERROR - Error executing MCP command: 500 Server Error: Internal Server Error for url: http://localhost:3005/execute
2025-03-14 23:49:13,031 - hyperliquid_mcp_test - ERROR - Response: {"detail":"404: Operation get_ticker not supported by hyperliquid adapter"}
2025-03-14 23:49:13,032 - hyperliquid_mcp_test - ERROR - Error during test: 500 Server Error: Internal Server Error for url: http://localhost:3005/execute
2025-03-14 23:49:13,032 - hyperliquid_mcp_test - INFO - Test failed
2025-03-14 23:49:49,995 - hyperliquid_mcp_test - INFO - Starting Hyperliquid MCP test...
2025-03-14 23:49:49,995 - hyperliquid_mcp_test - INFO - Getting ETH price...
2025-03-14 23:49:49,996 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_market_data",
  "parameters": {
    "coin": "ETH"
  }
}
2025-03-14 23:49:52,469 - hyperliquid_mcp_test - INFO - ETH price data: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:49:52,470 - hyperliquid_mcp_test - INFO - Checking wallet balance...
2025-03-14 23:49:52,470 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:49:54,899 - hyperliquid_mcp_test - INFO - Wallet balance: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:49:54,900 - hyperliquid_mcp_test - INFO - Checking current positions...
2025-03-14 23:49:54,900 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:49:57,333 - hyperliquid_mcp_test - INFO - Current positions: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:49:57,334 - hyperliquid_mcp_test - INFO - Creating market order for 0.1 ETH long position...
2025-03-14 23:49:57,334 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_create_order",
  "parameters": {
    "coin": "ETH",
    "isBuy": true,
    "sz": 0.1,
    "limitPx": 0,
    "reduceOnly": false,
    "orderType": "Market",
    "timeInForce": "GTC"
  }
}
2025-03-14 23:49:59,783 - hyperliquid_mcp_test - INFO - Order result: {
  "error": "API error: 422",
  "details": "Failed to deserialize the JSON body into the target type"
}
2025-03-14 23:49:59,784 - hyperliquid_mcp_test - INFO - Checking updated positions...
2025-03-14 23:49:59,785 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:50:02,212 - hyperliquid_mcp_test - INFO - Updated positions: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:50:02,213 - hyperliquid_mcp_test - INFO - Checking updated wallet balance...
2025-03-14 23:50:02,213 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:50:04,630 - hyperliquid_mcp_test - INFO - Updated wallet balance: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:50:04,631 - hyperliquid_mcp_test - INFO - Test completed successfully
2025-03-14 23:51:23,866 - hyperliquid_mcp_test - INFO - Starting Hyperliquid MCP test...
2025-03-14 23:51:23,867 - hyperliquid_mcp_test - INFO - Getting ETH price...
2025-03-14 23:51:23,868 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_market_data",
  "parameters": {
    "coin": "ETH"
  }
}
2025-03-14 23:51:26,323 - hyperliquid_mcp_test - INFO - ETH price data: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:51:26,324 - hyperliquid_mcp_test - INFO - Checking wallet balance...
2025-03-14 23:51:26,325 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:51:28,743 - hyperliquid_mcp_test - INFO - Wallet balance: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:51:28,744 - hyperliquid_mcp_test - INFO - Checking current positions...
2025-03-14 23:51:28,745 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:51:31,169 - hyperliquid_mcp_test - INFO - Current positions: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:51:31,170 - hyperliquid_mcp_test - INFO - Creating market order for 0.1 ETH long position...
2025-03-14 23:51:31,170 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_create_order",
  "parameters": {
    "coin": "ETH",
    "isBuy": true,
    "sz": 0.1,
    "limitPx": 0,
    "reduceOnly": false,
    "orderType": "Market",
    "timeInForce": "GTC"
  }
}
2025-03-14 23:51:33,609 - hyperliquid_mcp_test - INFO - Order result: {
  "error": "API error: 422",
  "details": "Failed to deserialize the JSON body into the target type"
}
2025-03-14 23:51:33,610 - hyperliquid_mcp_test - INFO - Checking updated positions...
2025-03-14 23:51:33,610 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:51:36,027 - hyperliquid_mcp_test - INFO - Updated positions: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:51:36,028 - hyperliquid_mcp_test - INFO - Checking updated wallet balance...
2025-03-14 23:51:36,028 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:51:38,445 - hyperliquid_mcp_test - INFO - Updated wallet balance: {
  "error": "API error: 405",
  "details": ""
}
2025-03-14 23:51:38,446 - hyperliquid_mcp_test - INFO - Test completed successfully
2025-03-14 23:54:37,754 - hyperliquid_mcp_test - INFO - Starting Hyperliquid MCP test...
2025-03-14 23:54:37,755 - hyperliquid_mcp_test - INFO - Getting ETH price...
2025-03-14 23:54:37,755 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_market_data",
  "parameters": {
    "coin": "ETH"
  }
}
2025-03-14 23:54:39,808 - hyperliquid_mcp_test - INFO - ETH price data: {
  "success": true,
  "simulation": true,
  "coin": "ETH",
  "price": 3245.67,
  "index_price": 3244.0471650000004,
  "funding_rate": 0.0001,
  "open_interest": 10000000,
  "volume_24h": 25000000,
  "size_increment": 0.01,
  "price_increment": 0.01,
  "max_leverage": 20.0
}
2025-03-14 23:54:39,809 - hyperliquid_mcp_test - INFO - Checking wallet balance...
2025-03-14 23:54:39,810 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:54:41,859 - hyperliquid_mcp_test - INFO - Wallet balance: {
  "success": true,
  "simulation": true,
  "balance": 10000.0,
  "free_collateral": 8500.0,
  "unrealized_pnl": 250.0,
  "margin_used": 1500.0,
  "wallet_address": "0xdemo123456789abcdef0123456789abcdef0123456"
}
2025-03-14 23:54:41,860 - hyperliquid_mcp_test - INFO - Checking current positions...
2025-03-14 23:54:41,860 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:54:43,899 - hyperliquid_mcp_test - INFO - Current positions: {
  "success": true,
  "simulation": true,
  "positions": [
    {
      "asset": "ETH",
      "size": 1.5,
      "entry_price": 3200.0,
      "liquidation_price": 2800.0,
      "unrealized_pnl": 150.0,
      "leverage": 5.0
    },
    {
      "asset": "BTC",
      "size": 0.25,
      "entry_price": 68000.0,
      "liquidation_price": 62000.0,
      "unrealized_pnl": 100.0,
      "leverage": 3.0
    }
  ]
}
2025-03-14 23:54:43,901 - hyperliquid_mcp_test - INFO - Creating market order for 0.1 ETH long position...
2025-03-14 23:54:43,902 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_create_order",
  "parameters": {
    "coin": "ETH",
    "isBuy": true,
    "sz": 0.1,
    "limitPx": 0,
    "reduceOnly": false,
    "orderType": "Market",
    "timeInForce": "GTC"
  }
}
2025-03-14 23:54:45,943 - hyperliquid_mcp_test - INFO - Order result: {
  "success": true,
  "simulation": true,
  "order_id": "sim_1742021685_ETH",
  "status": "filled",
  "details": {
    "coin": "ETH",
    "side": "buy",
    "size": 0.1,
    "price": "market price",
    "reduce_only": false,
    "order_type": "Market",
    "time_in_force": "GTC",
    "timestamp": 1742021685
  }
}
2025-03-14 23:54:45,944 - hyperliquid_mcp_test - INFO - Checking updated positions...
2025-03-14 23:54:45,945 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_positions",
  "parameters": {}
}
2025-03-14 23:54:47,992 - hyperliquid_mcp_test - INFO - Updated positions: {
  "success": true,
  "simulation": true,
  "positions": [
    {
      "asset": "ETH",
      "size": 1.5,
      "entry_price": 3200.0,
      "liquidation_price": 2800.0,
      "unrealized_pnl": 150.0,
      "leverage": 5.0
    },
    {
      "asset": "BTC",
      "size": 0.25,
      "entry_price": 68000.0,
      "liquidation_price": 62000.0,
      "unrealized_pnl": 100.0,
      "leverage": 3.0
    }
  ]
}
2025-03-14 23:54:47,994 - hyperliquid_mcp_test - INFO - Checking updated wallet balance...
2025-03-14 23:54:47,994 - hyperliquid_mcp_test - INFO - Sending MCP request: {
  "name": "mcp0_hyperliquid_get_account_balance",
  "parameters": {}
}
2025-03-14 23:54:50,038 - hyperliquid_mcp_test - INFO - Updated wallet balance: {
  "success": true,
  "simulation": true,
  "balance": 10000.0,
  "free_collateral": 8500.0,
  "unrealized_pnl": 250.0,
  "margin_used": 1500.0,
  "wallet_address": "0xdemo123456789abcdef0123456789abcdef0123456"
}
2025-03-14 23:54:50,039 - hyperliquid_mcp_test - INFO - Test completed successfully
