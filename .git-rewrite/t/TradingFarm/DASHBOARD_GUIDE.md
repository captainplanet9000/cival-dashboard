# TradingFarm Grafana Dashboard Guide

## Overview

This guide will help you set up and use the new Grafana-based dashboard with a forest green theme for monitoring your TradingFarm metrics.

## Prerequisites

- Docker Desktop installed on your system
- Python 3.9+ with FastAPI and Uvicorn installed
- TradingFarm database populated with trading data

## Quick Start Guide

### Step 1: Start the API Server

The API server provides the metrics data to Grafana:

```bash
# Navigate to the TradingFarm directory
cd TradingFarm

# Run the API server
python -m src.api.grafana_api
```

You should see output confirming the server is running at http://0.0.0.0:8051.

### Step 2: Start Docker Desktop

Ensure Docker Desktop is running on your system before proceeding with Step 3.

### Step 3: Launch Grafana with Docker Compose

```bash
# Navigate to the grafana_setup directory
cd grafana_setup

# Start Grafana and related services
docker-compose up -d
```

This will start three containers:
- The API service (if not already running)
- Grafana with forest green theme
- Grafana image renderer for exporting dashboards

### Step 4: Access the Dashboard

Open your browser and navigate to:
- http://localhost:3000

Login credentials:
- Username: `admin`
- Password: `tradingfarm`

## Dashboard Features

### Portfolio Performance Panel

The main panel shows your portfolio performance over time with a forest green theme. It includes:

- PnL chart with forest green styling
- Win/loss ratio gauge
- Position count metrics
- Daily, weekly, and monthly performance indicators

### Trading Signals Panel

Monitor all trading signals generated by your agents:

- Signal counts by agent
- Signal accuracy metrics
- Distribution of long vs short signals
- Time-based signal frequency visualization

### Positions Panel

Track your active and historical positions:

- Currently open positions table
- Position entry/exit times
- PnL per position
- Position duration statistics

### Agent Performance Panel

Compare the performance of different trading agents:

- Agent comparison chart
- Win rate by agent
- Average PnL per agent
- Signal quality metrics

## Customizing the Dashboard

### Changing Time Ranges

- Use the time picker in the top-right corner to select different time ranges
- Create custom time ranges as needed

### Adding New Panels

1. Click on "Add panel" in the dashboard
2. Select the visualization type
3. Configure the query to pull data from the TradingFarm API
4. Apply forest green styling from the "Styles" tab

### Creating Alerts

1. Edit any panel and navigate to the "Alert" tab
2. Configure alert conditions based on metrics thresholds
3. Set notification channels (email, Slack, etc.)

## Troubleshooting

### API Connection Issues

If Grafana can't connect to the API:

1. Ensure the API server is running at http://localhost:8051
2. Check the API health endpoint at http://localhost:8051/health
3. Verify the datasource configuration in Grafana

### Dashboard Loading Issues

If the dashboard doesn't load properly:

1. Check Docker container status with `docker-compose ps`
2. View container logs with `docker-compose logs`
3. Ensure all provisioning files are correctly placed

## Data Security

The dashboard only visualizes data from your local database. No sensitive information such as private keys or wallet addresses is exposed through the dashboard interface.

## Support

For issues or enhancements, please refer to the project repository or contact support.

---

Happy Trading!
